import random

from src.database import get_top_winners_by_amount
from src.misc import GameCategory
from src.misc.enums.games_enums import EvenUnevenBetOption
from src.utils.text_utils import format_float_to_rub_string


class EvenUnevenMessages:
    @staticmethod
    def get_timer_template(round_number: int) -> str:
        return f'üé≤ –†–∞—É–Ω–¥ #{round_number} \n' + \
               '‚è± {} \n‚ôª –û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞–≤–æ–∫...'

    @staticmethod
    async def get_top() -> str:
        emoji_numbers = ('0Ô∏è‚É£', '1Ô∏è‚É£', '2Ô∏è‚É£', '3Ô∏è‚É£', '4Ô∏è‚É£', '5Ô∏è‚É£', '6Ô∏è‚É£', '7Ô∏è‚É£', '8Ô∏è‚É£')
        top_players = await get_top_winners_by_amount(category=GameCategory.EVEN_UNEVEN, days_back=7, limit=6)
        text = 'üèÜ –¢–æ–ø –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π: \n\n'
        for n, player in enumerate(top_players, start=1):
            text += f'{emoji_numbers[n]} {str(player)} ‚Äî {format_float_to_rub_string(player.winnings_amount)}\n'
        return text

    @staticmethod
    def get_player_won(bet_option: EvenUnevenBetOption, amount: float) -> str:
        texts = ('–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ {amount}',)

        match bet_option:
            case EvenUnevenBetOption.LESS_7:
                texts = (
                    'DICY: –°—É–ø–µ—Ä! –ù–∞ –¥–≤—É—Ö –∫—É–±–∞—Ö –≤—ã–ø–∞–ª–æ –º–µ–Ω—å—à–µ 7, –∑–∞–±–∏—Ä–∞–π —Å–≤–æ–π –∑–∞—Å–ª—É–∂–µ–Ω–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à: {amount}',
                    'DICY: –ë—ã–ª–æ —Å–ª–æ–∂–Ω–æ –Ω–µ –ø–æ–±–µ–¥–∏—Ç—å –≤ —ç—Ç–æ–π —Å—Ç–∞–≤–∫–µ. \n'
                    '–ê –ø–æ–ø—Ä–æ–±—É–π —Å —Ç–∞–∫–∏–º –∂–µ —É—Å–ø–µ—Ö–æ–º –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ —Ç–æ, —á—Ç–æ –≤—ã–ø–∞–¥–µ—Ç —Ä–æ–≤–Ω–æ 7! \n'
                    '–ù—É –∞ –ø–æ–∫–∞ –±–µ—Ä–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                    'DICY: –ù–∞ –∫—É–±–∞—Ö –≤—ã–ø–∞–ª–æ –º–µ–Ω—å—à–µ 7 –æ—á–∫–æ–≤, —Å–∫–æ—Ä–µ–µ –±–µ—Ä–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}! \n'
                    '–ê —Ç–æ —Ç—É—Ç –º–æ–≥—É—Ç –∏ –æ–±–≤–æ—Ä–æ–≤–∞—Ç—å –∑–µ–≤–∞–∫.'
                )
            case EvenUnevenBetOption.EQUALS_7:
                texts = (
                    'DICY: –ù–∞ –¥–≤—É—Ö –∫—É–±–∞—Ö —Å—É–º–º–∞ –æ—á–∫–æ–≤ —Ä–æ–≤–Ω–æ 7! \n–ê —Ç—ã —Ö–æ—Ä–æ—à, –≥—Ä–µ–±–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                    'DICY: –•–∞! –£–¥–∞—á–∞ –Ω–∞ —Ç–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ, –≤–µ–¥—å —Å—É–º–º–∞ –æ—á–∫–æ–≤ –Ω–∞ –¥–≤—É—Ö –∫—É–±–∞—Ö —Ä–∞–≤–Ω–∞ 7. \n–¢—ã –≤—ã–∏–≥—Ä–∞–ª {amount}',
                    'DICY: –¢—ã –ø–æ–π–º–∞–ª —É–¥–∞—á—É –∑–∞ —Ö–≤–æ—Å—Ç! \n–°—É–º–º–∞ –æ—á–∫–æ–≤ –Ω–∞ –∫—É–±–∞—Ö —Ä–∞–≤–Ω–∞ 7, –∞ –∑–Ω–∞—á–∏—Ç —Ç—ã –≤—ã–∏–≥—Ä–∞–ª {amount}',
                )
            case EvenUnevenBetOption.GREATER_7:
                texts = (
                    'DICY: –£–¥–∞—á–∞ –±–ª–∞–≥–æ–≤–æ–ª–∏—Ç —Ç–µ–±–µ, —Å—É–º–º–∞ –æ—á–∫–æ–≤ –±–æ–ª—å—à–µ 7, –∞ –∑–Ω–∞—á–∏—Ç —Ç—ã –∑–∞–±–∏—Ä–∞–µ—à—å —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                    'DICY: –ï—Å—Ç—å! –ù–∞ –¥–≤—É—Ö –∫—É–±–∞—Ö —Å—É–º–º–∞ –æ—á–∫–æ–≤ –±–æ–ª—å—à–µ 7, –≥—Ä–µ–±–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                    'DICY: –ù—É —Ç–µ–±–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ–∑–ª–æ, –Ω–∞ –¥–≤—É—Ö –∫—É–±–∞—Ö —Å—É–º–º–∞ –æ—á–∫–æ–≤ –±–æ–ª—å—à–µ 7. \n'
                    '–°–ø–æ—Ä–∏–º, —á—Ç–æ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –Ω–µ –ø–æ–±–µ–¥–∏—à—å? \n–¢—ã –≤—ã–∏–≥—Ä–∞–ª {amount}',
                )
            case EvenUnevenBetOption.EVEN:
                texts = (
                    'DICY: –ß—ë—Ç–∫–∞—è! –û–π, —Ç–æ—á–Ω–µ–µ –ß—ë—Ç–Ω–∞—è —Å—É–º–º–∞ –Ω–∞ –∫—É–±–∞—Ö. \n'
                    '–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ –≤—Å–µ —á—ë—Ç–∫–æ, –±–µ—Ä–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                    'DICY: –ù–∞ –∫—É–±–∞—Ö —á—ë—Ç–Ω–∞—è —Å—É–º–º–∞, –∞ –∑–Ω–∞—á–∏—Ç —Ç—ã –º–æ–∂–µ—à—å —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è, –≤–µ–¥—å –≤—ã–∏–≥—Ä–∞–ª {amount}',
                    'DICY: –î–∞ –æ–±—ã—á–Ω–æ–µ –≤–µ–∑–µ–Ω–∏–µ, –≤ —ç—Ç–æ—Ç —Ä–∞–∑ –±–æ–≥–∏ —Ä–∞–Ω–¥–æ–º–∞ –ø–æ–º–∏–ª–æ–≤–∞–ª–∏ —Ç–µ–±—è: –Ω–∞ –∫—É–±–∞—Ö —á—ë—Ç–Ω–∞—è —Å—É–º–º–∞. \n'
                    '–ù–æ –≤–æ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑... \n–ë–µ—Ä–∏ —É–∂–µ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à: {amount}',
                )
            case EvenUnevenBetOption.UNEVEN:
                texts = (
                    'DICY: –û–ø–∞, –∞ –≤–æ—Ç –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫ –Ω–∞ —Ç–≤–æ–µ–π —É–ª–∏—Ü–µ! –°—É–º–º–∞ –∫—É–±–æ–≤ –Ω–µ—á—ë—Ç–Ω–∞—è, –±–µ—Ä–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                    'DICY: –¢–∞–∫ —Ç–∞–∫! –ù–∞ –∏–≥—Ä–æ–≤–æ–º —Å—Ç–æ–ª–µ —Å—É–º–º–∞ –∫—É–±–æ–≤ –Ω–µ—á—ë—Ç–Ω–∞—è, –∞ –∑–Ω–∞—á–∏—Ç —Ç—ã –ø–æ–±–µ–¥–∏–ª! –¢–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                    'DICY: –ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è, –Ω–∞ —Å—Ç–æ–ª–µ —Å—É–º–º–∞ –∫—É–±–æ–≤ –Ω–µ—á—ë—Ç–Ω–∞—è! \n'
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã –≥—É–ª—è–µ—à—å, –±–µ—Ä–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                )
            case EvenUnevenBetOption.A_EQUALS_B:
                texts = (
                    'DICY: –ù—É —Ç–∞–∫—É—é —É–¥–∞—á—É —è –¥–∞–≤–Ω–æ –Ω–µ –≤–∏–¥–µ–ª! \n'
                    '–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —á–∏—Å–ª–∞ —É—Ç—Ä–æ–∏–ª–∏ —Ç–≤–æ—é —Å—Ç–∞–≤–∫—É. \n–¢—ã –∑–∞–±–∏—Ä–∞–µ—à—å {amount}',
                    'DICY: –ö–∞–∫ –∂–µ —Ç–µ–±–µ –≤–µ–∑—ë—Ç! \n'
                    '–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —á–∏—Å–ª–∞ –Ω–∞ –∫—É–±–∞—Ö –ø–æ–∑–≤–æ–ª–∏–ª–∏ —Ç–µ–±–µ —É—Ç—Ä–æ–∏—Ç—å —Ç–≤–æ—é —Å—Ç–∞–≤–∫—É, –∑–∞–±–∏—Ä–∞–π {amount}',
                    'DICY: –í–∞—É! –ó–Ω–∞–µ—à—å, –ø–æ—á–µ–º—É —Ç–≤–æ—è —Å—Ç–∞–≤–∫–∞ —É—Ç—Ä–æ–∏–ª–∞—Å—å? \n'
                    '–ß–∏—Å–ª–∞ –Ω–∞ –∫—É–±–∞—Ö —Ä–∞–≤–Ω—ã–µ, –≥—Ä–µ–±–∏ —Å–≤–æ–π –≤—ã–∏–≥—Ä—ã—à {amount}',
                )

        return random.choice(texts).format(amount=format_float_to_rub_string(amount))

    @staticmethod
    def get_player_loose(bet: EvenUnevenBetOption) -> str:
        texts = ('<b>üé≤ –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏</b>',)

        match bet:
            case EvenUnevenBetOption.LESS_7:
                texts = (
                    'DICY: –£–≤—ã, –Ω–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–∞ –∫—É–±–∞—Ö –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–ª—å—à–µ 7. \n–ù–∞–¥–æ –±—ã–ª–æ –¥–µ–ª–∞—Ç—å –¥—Ä—É–≥—É—é —Å—Ç–∞–≤–∫—É.',
                    'DICY: –í–æ—Ç –∏ —É–¥–∞—á–∏ —Ç–≤–æ–µ–π –Ω–µ —Å—Ç–∞–ª–æ. \n–ù–∞ –∫—É–±–∞—Ö –±–æ–ª—å—à–µ 7!',
                    'DICY: –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –¥–ª—è —Ç–µ–±—è –∏ –∫ —Å—á–∞—Å—Ç—å—é –¥–ª—è –º–µ–Ω—è, –≤—ã–ø–∞–ª–æ –±–æ–ª—å—à–µ 7! \n'
                    '–ü–æ–π–¥—É –Ω–∞ —Ç–≤–æ–∏ –¥–µ–Ω—å–≥–∏ –∑–∞–∫–∞–∂—É –µ—â–µ –∑–æ–ª–æ—Ç–∞ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –∑–∞–ª–∞ –∫–∞–∑–∏–Ω–æ.',
                )
            case EvenUnevenBetOption.EQUALS_7:
                texts = (
                    'DICY: –£–≤—ã, –Ω–∞ –∫—É–±–∞—Ö —Å—É–º–º–∞ –æ—á–∫–æ–≤ –Ω–µ 7, —Ç—ã –ø—Ä–æ–∏–≥—Ä–∞–ª. \n–ú–æ–∂–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø–æ–≤–µ–∑–µ—Ç –±–æ–ª—å—à–µ.',
                    'DICY: –¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª! \n–ê –Ω–∞ —á—Ç–æ —Ç—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª, –∫–æ–≥–¥–∞ —Å—Ç–∞–≤–∏–ª –Ω–∞ —Ç–∞–∫–æ–π —Ä–µ–¥–∫–∏–π –∏—Å—Ö–æ–¥?',
                    'DICY: –≠—Ö—Ö—Ö, –Ω–µ –ø–æ–ª—É—á–∏–ª–∞—Å—å —Å–æ—Ä–≤–∞—Ç—å –∫—É—à. \n–ù–æ —Ç—ã –º–æ–∂–µ—à—å –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â–µ —Ä–∞–∑.',
                )
            case EvenUnevenBetOption.GREATER_7:
                texts = (
                    'DICY: –î–∞, –∫—É–±—ã —Å–µ–≥–æ–¥–Ω—è —Å–∫—É–ø—ã –Ω–∞ —á–∏—Å–ª–∞, –≤—ã–ø–∞–ª–∞ —Å—É–º–º–∞ –º–µ–Ω—å—à–µ 7, –∞ –∑–Ω–∞—á–∏—Ç —Ç—ã –æ—Å—Ç–∞–ª—Å—è –±–µ–∑ –¥–µ–Ω–µ–≥.',
                    'DICY: –ò–∏–∏... –ù–∞ –¥–≤—É—Ö –∫—É–±–∞—Ö –≤—ã–ø–∞–ª–æ –º–µ–Ω—å—à–µ 7, –ø–æ—ç—Ç–æ–º—É —Ç—ã –ø—Ä–æ–∏–≥—Ä–∞–ª. \n–¢–≤–æ—è —É–¥–∞—á–∞, –≤–∏–¥–∏–º–æ, –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å.',
                    'DICY: –°–æ–≤–µ—Ç—É—é —Ç–µ–±–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å—Å—è –Ω–∞ —Å–≥–ª–∞–∑, —Ç–∞–∫ –Ω–µ –≤–µ–∑—Ç–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ –º–æ–∂–µ—Ç! \n–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª.',
                )
            case EvenUnevenBetOption.EVEN:
                texts = (
                    'DICY: –ù–µ–º–Ω–æ–≥–æ –Ω–µ —É–≥–∞–¥–∞–ª, —Å—É–º–º–∞ –Ω–∞ –∫—É–±–∞—Ö –Ω–µ—á—ë—Ç–Ω–∞—è. \n–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª.',
                    'DICY: –°—É–º–º–∞ –Ω–µ—á—ë—Ç–Ω–∞—è –∏ —ç—Ç–æ —Å–æ–≤—Å–µ–º –Ω–µ —á—ë—Ç–∫–æ –¥–ª—è —Ç–µ–±—è. \n–í —ç—Ç–æ—Ç —Ä–∞–∑ —Ç—ã –ø—Ä–æ–∏–≥—Ä–∞–ª.',
                    'DICY: –ö–∞–∫–∞—è –¥–æ—Å–∞–¥–∞, —Å—É–º–º–∞ –Ω–∞ –∫—É–±–∞—Ö –Ω–µ—á—ë—Ç–Ω–∞—è! \n–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª! –ù–µ –ø–µ—Ä–µ–¥–∞—Ç—å, –∫–∞–∫ –º–Ω–µ —Ç–µ–±—è –∂–∞–ª—å! \n'
                    '–ù—É –∏–¥–∏ –ø–æ–ø–ª–∞—á—å, –º–æ–∂–µ—Ç –ø–æ–º–æ–∂–µ—Ç.',
                )
            case EvenUnevenBetOption.UNEVEN:
                texts = (
                    'DICY: –î–∞ —É–∂, –Ω–µ –ø–æ–≤–µ–∑–ª–æ —Å–µ–≥–æ–¥–Ω—è —Ç–µ–±–µ. \n–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —É–≥–∞–¥–∞—Ç—å —Ç–æ, —á—Ç–æ —Å—É–º–º–∞ –∫—É–±–æ–≤ –±—É–¥–µ—Ç –Ω–µ—á—ë—Ç–Ω–∞—è.',
                    'DICY: –ö–∞–∫ –∂–µ —Ç–∞–∫? –ù–µ —É–≥–∞–¥–∞–ª... –ö–∞–∫–æ–µ –≥–æ—Ä–µ. \n–ê —è —Ä–∞–¥—É—é—Å—å, —Ç–µ–ø–µ—Ä—å —Ç–≤–æ–∏ –¥–µ–Ω—å–≥–∏ ‚Äî –º–æ–∏ –¥–µ–Ω—å–≥–∏.',
                    'DICY: –ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Å–µ–≥–æ–¥–Ω—è —É —Ç–µ–±—è —É—Ö–≤–∞—Ç–∏—Ç—å —É–¥–∞—á—É –∑–∞ —Ö–≤–æ—Å—Ç, —Å—É–º–º–∞ –∫—É–±–æ–≤ –Ω–∞ –∏–≥—Ä–æ–≤–æ–º —Å—Ç–æ–ª–µ —á—ë—Ç–Ω–∞—è.',
                )
            case EvenUnevenBetOption.A_EQUALS_B:
                texts = (
                    'DICY: –ù—É –∞ —á—Ç–æ —Ç—ã —Ö–æ—Ç–µ–ª, –∫–æ–≥–¥–∞ —Å—Ç–∞–≤–∏–ª –Ω–∞ –∏—Å—Ö–æ–¥ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π? \n'
                    '–î–µ–Ω—å–≥–∏ –Ω–∞ –≤–µ—Ç–µ—Ä, –ø—Ä—è–º–æ –º–Ω–µ –≤ –∫–∞—Ä–º–∞–Ω!',
                    'DICY: –ù—É —á—Ç–æ —Å–∫–∞–∑–∞—Ç—å, —Ç—ã –ø—ã—Ç–∞–ª—Å—è. \n–ú–æ–∂–µ—Ç –∫–æ–≥–¥–∞-—Ç–æ –∏ –≤—ã–ø–∞–¥—É—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —á–∏—Å–ª–∞... –ù–µ –≤ —ç—Ç–æ–π –∂–∏–∑–Ω–∏.',
                    'DICY: –ï—Å–ª–∏ —á–µ—Å—Ç–Ω–æ, –Ω–µ –∑–Ω–∞—é, —á—Ç–æ —É —Ç–µ–±—è –±—ã–ª–æ –≤ –≥–æ–ª–æ–≤–µ, –∫–æ–≥–¥–∞ —Ç—ã —Å—Ç–∞–≤–∏–ª –Ω–∞ —ç—Ç–æ—Ç –∏—Å—Ö–æ–¥. \n'
                    '–£–≤—ã, –Ω–æ —É–¥–∞—á–∞ –≤–æ–æ–±—â–µ –Ω–µ –Ω–∞ —Ç–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.',
                )

        return random.choice(texts)
